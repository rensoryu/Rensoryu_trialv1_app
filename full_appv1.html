<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Three-Page App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8FAFC; /* light gray background */
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4">

    <!-- Page Container -->
    <div id="page-container" class="w-full max-w-sm bg-white rounded-2xl shadow-xl p-6 transition-transform duration-300">
        
        <!-- Page 1: Home Page -->
        <div id="page-1" class="page">
            <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Neilwhooo</h1>
            <p class="text-gray-600 mb-8 text-center">Choose a button to navigate to a new page.</p>

            <div class="space-y-4">
                <button onclick="showPage('page-2')" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-6 rounded-full transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2 shadow-lg">
                    Sunglasses
                </button>
                <button onclick="showPage('page-3')" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-6 rounded-full transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2 shadow-lg">
                    Frame 
                </button>
                <button onclick="showPage('page-4')" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-6 rounded-full transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2 shadow-lg">
                    Button 3
                </button>
            </div>
        </div>

        <!-- Page 2: Sunglasses Page -->
        <div id="page-2" class="page hidden">
            <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Sunglasses</h1>
            
            <form class="space-y-4">
                <!-- Text Field -->
                <div>
                    <label for="text-field" class="block text-sm font-medium text-gray-700 mb-1">Sunglass Type</label>
                    <input type="text" id="sunglasses-text-field" placeholder="Type here..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200">
                </div>

                <!-- Float Field with Rp symbol -->
                <div>
                    <label for="float-field" class="block text-sm font-medium text-gray-700 mb-1">Total Price</label>
                    <div class="relative rounded-lg shadow-sm">
                        <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                            <span class="text-gray-500 sm:text-sm">Rp</span>
                        </div>
                        <input type="text" id="sunglasses-float-field" placeholder="Enter a number (e.g., 3.14)" class="w-full px-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200">
                    </div>
                </div>

                <!-- Image Field -->
                <div>
                    <label for="image-field" class="block text-sm font-medium text-gray-700 mb-1">Image Upload</label>
                    <input type="file" id="sunglasses-image-field" accept="image/*" capture="camera" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200">
                </div>
            </form>

            <div class="mt-8 space-y-4">
                <!-- Confirm Button -->
                <button id="sunglasses-confirm-btn" class="w-full bg-green-600 text-white font-bold py-4 px-6 rounded-full transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2 shadow-lg opacity-50 cursor-not-allowed" disabled>
                    Confirm
                </button>

                <!-- Go Back Button -->
                <button onclick="showPage('page-1')" class="w-full bg-gray-400 hover:bg-gray-500 text-white font-bold py-4 px-6 rounded-full transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 shadow-lg">
                    Go Back
                </button>
            </div>
        </div>

        <!-- Page 3: Frame Page -->
        <div id="page-3" class="page hidden">
            <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Frame</h1>
            
            <form class="space-y-4">
                <!-- Product Type Field -->
                <div>
                    <label for="product-type-field" class="block text-sm font-medium text-gray-700 mb-1">Product Type</label>
                    <input type="text" id="product-type-field" placeholder="Type here..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200">
                </div>

                <!-- Lense Type Dropdown -->
                <div>
                    <label for="lense-type-field" class="block text-sm font-medium text-gray-700 mb-1">Lense Type</label>
                    <select id="lense-type-field" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                    </select>
                </div>

                <!-- Paset Field -->
                <div>
                    <label for="paset-field" class="block text-sm font-medium text-gray-700 mb-1">Paset</label>
                    <div class="relative rounded-lg shadow-sm">
                        <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                            <span class="text-gray-500 sm:text-sm">Rp</span>
                        </div>
                        <input type="text" id="paset-field" placeholder="Enter a number" class="w-full px-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200">
                    </div>
                </div>

                <!-- Lense Price Field -->
                <div>
                    <label for="lense-price-field" class="block text-sm font-medium text-gray-700 mb-1">Lense Price</label>
                    <div class="relative rounded-lg shadow-sm">
                        <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                            <span class="text-gray-500 sm:text-sm">Rp</span>
                        </div>
                        <input type="text" id="lense-price-field" placeholder="Enter a number" class="w-full px-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200">
                    </div>
                </div>

                <!-- Image Field -->
                <div>
                    <label for="frame-image-field" class="block text-sm font-medium text-gray-700 mb-1">Image Upload</label>
                    <input type="file" id="frame-image-field" accept="image/*" capture="camera" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200">
                </div>

                <!-- Total Price Field -->
                <div>
                    <label for="total-price-field" class="block text-sm font-medium text-gray-700 mb-1">Total Price</label>
                    <div class="relative rounded-lg shadow-sm">
                        <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                            <span class="text-gray-500 sm:text-sm">Rp</span>
                        </div>
                        <input type="text" id="total-price-field" placeholder="Enter a number" class="w-full px-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 transition-colors duration-200">
                    </div>
                </div>
            </form>

            <div class="mt-8 space-y-4">
                <!-- Confirm Button -->
                <button id="frame-confirm-btn" class="w-full bg-green-600 text-white font-bold py-4 px-6 rounded-full transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2 shadow-lg opacity-50 cursor-not-allowed" disabled>
                    Confirm
                </button>

                <!-- Go Back Button -->
                <button onclick="showPage('page-1')" class="w-full bg-gray-400 hover:bg-gray-500 text-white font-bold py-4 px-6 rounded-full transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 shadow-lg">
                    Go Back
                </button>
            </div>
        </div>

        <!-- Page 4 -->
        <div id="page-4" class="page hidden">
            <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Page 3</h1>
            <p class="text-gray-600 mb-8 text-center">This is the content for Page 3.</p>
            <button onclick="showPage('page-1')" class="w-full bg-gray-400 hover:bg-gray-500 text-white font-bold py-4 px-6 rounded-full transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 shadow-lg">
                Go Back
            </button>
        </div>

    </div>

    <script>
        function showPage(pageId) {
            // Hide all pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show the requested page
            const selectedPage = document.getElementById(pageId);
            if (selectedPage) {
                selectedPage.classList.remove('hidden');
            }
        }

        // JavaScript for the form pages
        document.addEventListener('DOMContentLoaded', () => {
            // Function to format a number with thousands separator and three decimal places
            const formatNumber = (number) => {
                return new Intl.NumberFormat('id-ID', {
                    style: 'decimal',
                    minimumFractionDigits: 3,
                    maximumFractionDigits: 3,
                    useGrouping: true
                }).format(number);
            };

            // ----- Sunglasses Page Logic -----
            const sunglassesTextField = document.getElementById('sunglasses-text-field');
            const sunglassesFloatField = document.getElementById('sunglasses-float-field');
            const sunglassesConfirmBtn = document.getElementById('sunglasses-confirm-btn');
            const sunglassesImageField = document.getElementById('sunglasses-image-field');
            
            const toggleSunglassesConfirmButton = () => {
                const floatValue = parseFloat(sunglassesFloatField.value.replace(/\./g, '').replace(',', '.'));
                if (sunglassesTextField.value.trim() !== '' && !isNaN(floatValue)) {
                    sunglassesConfirmBtn.disabled = false;
                    sunglassesConfirmBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                } else {
                    sunglassesConfirmBtn.disabled = true;
                    sunglassesConfirmBtn.classList.add('opacity-50', 'cursor-not-allowed');
                }
            };
            sunglassesTextField.addEventListener('input', toggleSunglassesConfirmButton);
            sunglassesFloatField.addEventListener('input', toggleSunglassesConfirmButton);
            sunglassesFloatField.addEventListener('blur', (e) => {
                const floatValue = parseFloat(e.target.value.replace(/\./g, '').replace(',', '.'));
                if (!isNaN(floatValue)) {
                    e.target.value = formatNumber(floatValue);
                }
            });
            sunglassesConfirmBtn.addEventListener('click', () => {
                const invoiceNumber = Math.floor(10000 + Math.random() * 90000);
                const textValue = sunglassesTextField.value;
                const floatValue = sunglassesFloatField.value.replace(/\./g, '').replace(',', '.');
                const formattedFloat = formatNumber(floatValue);
                const imageStatus = sunglassesImageField.files.length > 0 ? 'Image Uploaded' : 'No Image Uploaded';
                const message = `Invoice #${invoiceNumber} | ${textValue} | Rp${formattedFloat} | ${imageStatus}`;
                const encodedMessage = encodeURIComponent(message);
                const phoneNumber = '+6287880000981'; 
                const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
                window.open(whatsappUrl, '_blank');
                setTimeout(() => {
                    sunglassesTextField.value = '';
                    sunglassesFloatField.value = '';
                    sunglassesImageField.value = '';
                    toggleSunglassesConfirmButton();
                    showPage('page-1');
                }, 500);
            });

            // ----- Frame Page Logic -----
            const productTypeField = document.getElementById('product-type-field');
            const pasetField = document.getElementById('paset-field');
            const lensePriceField = document.getElementById('lense-price-field');
            const totalPriceField = document.getElementById('total-price-field');
            const lenseTypeField = document.getElementById('lense-type-field');
            const frameConfirmBtn = document.getElementById('frame-confirm-btn');
            const frameImageField = document.getElementById('frame-image-field');
            
            const toggleFrameConfirmButton = () => {
                const productTypeFilled = productTypeField.value.trim() !== '';
                const lenseTypeFilled = lenseTypeField.value.trim() !== '';
                const totalPriceFilled = parseFloat(totalPriceField.value.replace(/\./g, '').replace(',', '.'));

                if (productTypeFilled && lenseTypeFilled && !isNaN(totalPriceFilled)) {
                    frameConfirmBtn.disabled = false;
                    frameConfirmBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                } else {
                    frameConfirmBtn.disabled = true;
                    frameConfirmBtn.classList.add('opacity-50', 'cursor-not-allowed');
                }
            };

            // Common formatting and event listeners for all float fields on the frame page
            [pasetField, lensePriceField, totalPriceField].forEach(field => {
                field.addEventListener('input', (e) => {
                    // Only format on input for cleaner user experience
                    let value = e.target.value.replace(/[^0-9,.]/g, '');
                    e.target.value = value;
                    toggleFrameConfirmButton();
                });
                field.addEventListener('blur', (e) => {
                    // Apply full formatting on blur
                    const numberValue = parseFloat(e.target.value.replace(/\./g, '').replace(',', '.'));
                    if (!isNaN(numberValue)) {
                        e.target.value = formatNumber(numberValue);
                    }
                });
            });

            // Listen for input on the required fields
            productTypeField.addEventListener('input', toggleFrameConfirmButton);
            lenseTypeField.addEventListener('change', toggleFrameConfirmButton); 

            // Handle the confirm button click for the Frame page
            frameConfirmBtn.addEventListener('click', () => {
                const invoiceNumber = Math.floor(10000 + Math.random() * 90000);
                const productType = productTypeField.value;
                const lenseType = lenseTypeField.value;
                const paset = pasetField.value.replace(/\./g, '').replace(',', '.');
                const lensePrice = lensePriceField.value.replace(/\./g, '').replace(',', '.');
                const totalPrice = totalPriceField.value.replace(/\./g, '').replace(',', '.');

                const formattedPaset = formatNumber(paset);
                const formattedLensePrice = formatNumber(lensePrice);
                const formattedTotalPrice = formatNumber(totalPrice);
                
                const message = `Invoice #${invoiceNumber} | Product Type: ${productType} | Lense Type: ${lenseType} | Paset: Rp${formattedPaset} | Lense Price: Rp${formattedLensePrice} | Total Price: Rp${formattedTotalPrice}`;
                const encodedMessage = encodeURIComponent(message);
                
                const phoneNumber = '+6287880000981'; 
                const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
                window.open(whatsappUrl, '_blank');

                setTimeout(() => {
                    productTypeField.value = '';
                    lenseTypeField.value = '1'; // Reset dropdown to the first option
                    pasetField.value = '';
                    lensePriceField.value = '';
                    totalPriceField.value = '';
                    frameImageField.value = '';
                    toggleFrameConfirmButton();
                    showPage('page-1');
                }, 500);
            });
        });
    </script>
</body>
</html>
